class Solution {
public:
    static auto transpose(vector<vector<int>>& grid, int n, int m){
        vector<bitset<1000>> ans(m);
        for(int i=0; i<n; i++)
            for(int j=0; j<m; j++)
                ans[j][i]=grid[i][j];
        return ans;
    }
    static int minimumArea(vector<vector<int>>& grid) {
        const int n=grid.size(), m=grid[0].size();
        int iMin=1000, iMax=-1, jMin=1000, jMax=-1;
        for (int i=0; i<n; i++){
            auto& row=grid[i];
            if (find(row.begin(), row.end(), 1)!=row.end()){
                iMin=min(iMin, i);
                iMax=max(iMax, i);
            }
        }
        auto T=transpose(grid, n, m);
        for (int j=0; j<m; j++){
            auto& col=T[j];
            if (col!=0){
                jMin=min(jMin, j);
                jMax=max(jMax, j);
            }
        }
        return (iMax-iMin+1)*(jMax-jMin+1);
    }
};




auto init = []() {
    ios::sync_with_stdio(0);
    cin.tie(0);
    cout.tie(0);
    return 'c';
}();
